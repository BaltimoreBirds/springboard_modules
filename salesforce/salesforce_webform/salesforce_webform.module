<?php

/**
 * @file
 * Manages webform to Salesforce mappings.
 */

/**
 * @defgroup core_drupal_hooks
 * @{
 */

/**
 * Implements hook_entity_info().
 */
function salesforce_webform_entity_info() {
  return array(
    'salesforce_webform_map' => array(
      'label' => t('Salesforce Webform Map'),
      'entity class' => 'Entity',
      'controller class' => 'EntityAPIControllerExportable',
      'base table' => 'salesforce_webform_map',
      'entity keys' => array(
        'id' => 'salesforce_webform_map_id',
      ),
      'fieldable' => FALSE,
      'exportable' => TRUE,
      'module' => 'salesforce_webform',
    ),
  );
}

/**
 * Implements hook_menu().
 */
function salesforce_webform_menu() {
  // %webform_menu returns $node if $node is a webform
  $items['node/%webform_menu/webform/salesforce-map'] = array(
    'title' => 'Salesforce map',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('salesforce_webform_map_form', 1),
    'access callback' => TRUE,
    'type' => MENU_LOCAL_TASK,
    'file' => 'includes/salesforce_webform.map.inc',
  );

  return $items;
}

/**
 * @} core_drupal_hooks
 */
